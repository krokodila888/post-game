{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Routes,Route}from'react-router-dom';import Main from'../Main/Main.jsx';import PageNotFound from'../PageNotFound/PageNotFound.jsx';import DeckItemPage from'../DeckItemPage/DeckItemPage.jsx';import WordItemPage from'../WordItemPage/WordItemPage.jsx';import NumbersTrainPage from'../NumbersTrainPage/NumbersTrainPage.jsx';import'./App.css';import{useSelector,useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import{vocabulary,topics,verbs}from\"../../utils/constants.js\";import{removeCurrentDeck,setCurrentDeck,setCurrentWord}from'../../services/actions/currentDeck.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useSelector=useSelector(function(state){return state.currentDeckReducer;}),currentDeck=_useSelector.currentDeck;var _useSelector2=useSelector(function(state){return state.currentDeckReducer;}),currentWord=_useSelector2.currentWord;var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){var aa;var aaa;//console.log(window.location.pathname.slice(8));\nvar adress=window.location.pathname.slice(8);var firstPos=adress.indexOf('/');/*console.log(firstPos);\n    console.log(window.location.pathname.slice(9 + firstPos));\n    console.log(window.location.pathname.substr(8, firstPos));*/if(firstPos!==-1){aa=topics.filter(function(item){return item.enTopic===window.location.pathname.substr(8,firstPos);});aaa=verbs.filter(function(item){return item.enTranslation===window.location.pathname.slice(9+firstPos);});//console.log(aaa);\n}else{aa=topics.filter(function(item){return item.enTopic===window.location.pathname.slice(8);});};//console.log(aa);\nif(aa!==undefined&&aa){dispatch(setCurrentDeck(aa[0]));};if(aaa!==undefined&&aaa){//console.log(aaa[0]);\ndispatch(setCurrentWord(aaa[0]));};if(aa&&aaa&&aa.length!==0&&aaa.length===0){navigate(\"/topics/\".concat(aa[0].enTopic));}if(!aa&&!aaa||aa.length===0){navigate(\"/\");}},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(PageNotFound,{})}),/*#__PURE__*/_jsx(Route,{path:\"/numbers\",element:/*#__PURE__*/_jsx(NumbersTrainPage,{})}),currentDeck!==null&&/*#__PURE__*/_jsx(Route,{path:\"/topics/:deckItem\",element:/*#__PURE__*/_jsx(DeckItemPage,{})}),currentWord!==null&&/*#__PURE__*/_jsx(Route,{path:\"/topics/:deckItem/:wordItem\",element:/*#__PURE__*/_jsx(WordItemPage,{})})]})})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Routes","Route","Main","PageNotFound","DeckItemPage","WordItemPage","NumbersTrainPage","useSelector","useDispatch","useNavigate","vocabulary","topics","verbs","removeCurrentDeck","setCurrentDeck","setCurrentWord","App","state","currentDeckReducer","currentDeck","currentWord","dispatch","navigate","aa","aaa","adress","window","location","pathname","slice","firstPos","indexOf","filter","item","enTopic","substr","enTranslation","undefined","length"],"sources":["C:/Users/kroko/OneDrive/Рабочий стол/ivrit-main/src/components/App/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Routes, Route } from 'react-router-dom';\nimport Main from '../Main/Main.jsx';\nimport PageNotFound from '../PageNotFound/PageNotFound.jsx';\nimport DeckItemPage from '../DeckItemPage/DeckItemPage.jsx';\nimport WordItemPage from '../WordItemPage/WordItemPage.jsx';\nimport NumbersTrainPage from '../NumbersTrainPage/NumbersTrainPage.jsx';\nimport './App.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { vocabulary, topics, verbs } from \"../../utils/constants.js\";\nimport { removeCurrentDeck, setCurrentDeck, setCurrentWord  } from '../../services/actions/currentDeck.js';\n\nfunction App() {\n\n  const { currentDeck } = useSelector(state => state.currentDeckReducer);\n  const { currentWord } = useSelector(state => state.currentDeckReducer);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  useEffect(()=> {\n    let aa;\n    let aaa;\n    //console.log(window.location.pathname.slice(8));\n    const adress = window.location.pathname.slice(8);\n    const firstPos = adress.indexOf('/');\n    /*console.log(firstPos);\n    console.log(window.location.pathname.slice(9 + firstPos));\n    console.log(window.location.pathname.substr(8, firstPos));*/\n    if (firstPos !== -1) {\n      aa = topics.filter(item => item.enTopic === window.location.pathname.substr(8, firstPos));\n      aaa = verbs.filter(item => item.enTranslation === window.location.pathname.slice(9 + firstPos));\n      //console.log(aaa);\n    }\n    else {\n      aa = topics.filter(item => item.enTopic === window.location.pathname.slice(8));\n    };\n    //console.log(aa);\n    if (aa !== undefined && aa) {\n      dispatch(setCurrentDeck(aa[0]));\n    };\n    if (aaa !== undefined && aaa) {\n      //console.log(aaa[0]);\n      dispatch(setCurrentWord(aaa[0]));\n    };\n    if (aa && aaa && aa.length !== 0 && aaa.length === 0) {\n      navigate(`/topics/${aa[0].enTopic}`);\n    }\n    if ((!aa && !aaa) || (aa.length === 0)) {\n      navigate(`/`);\n    }\n  }, [])\n\n  return (\n    <>\n      <div className=\"page\">\n        <Routes>\n          <Route \n            exact path=\"/\" \n            element={\n              <Main />\n            }>  \n          </Route>\n          <Route \n            path=\"*\" \n            element={\n              <PageNotFound/>\n            }>\n          </Route>\n          <Route \n            path=\"/numbers\" \n            element={\n              <NumbersTrainPage/>\n            }>\n          </Route>\n          {currentDeck !==null && \n          <Route \n            path=\"/topics/:deckItem\" \n            element={\n              <DeckItemPage />\n            }\n          >\n          </Route>}\n          {currentWord !==null && \n          <Route \n            path=\"/topics/:deckItem/:wordItem\" \n            element={\n              <WordItemPage />\n            }\n          >\n          </Route>}\n        </Routes>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}